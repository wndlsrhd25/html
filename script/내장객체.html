<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>문자열</title>
</head>

<body>
<script>
      /*
정규식 표현
생성 : let 변수 = new RegExp
      let 변수 = /패턴/검색옵션
*/

      /*
object 객체
생성 : let object = {};
      let object = new Object();
*/

      /*
String 객체
생성 : let str = 'hello';
      let strobj = new String('hello');
*/

      /*
Date 객체
생성 : let date = new Date();
      let date = new Date(2022/02/18);
*/
    let now = new Date();
    let xmax = new Date("2022,12,25");
    let remain = Math.floor((xmax - now) / 1000 / 60 / 60 / 24);
    console.log(`크리스마스까지 ${remain}일 남았습니다.`);

    
    //로또 만들기

    let lotto = "";

    for (let i = 1; i < 6; i++) {
    for (let j = 1; j < 7; j++) {
    lotto += Math.floor(Math.random() * (45 - 1 + 1)) + 1 + "\t";
    }
    lotto += "\n";
    }

    console.log(lotto);

    let Lotto = []

    const calc1 = '1+2*3'
    const calc2 = new String('1+2*3')
    console.log(eval(calc1)); //eval 문자열을 코드로 인식
    console.log(eval(calc2.valueOf())) //valueOf 숫자형태로 변환


    //문자열과 문자열 객체 비교
    let str1 = '문자열'
    let str2 = new String('문자열')
    let str3 = new String('문자열 데이터')
    let str4 = str3.valueOf()

    console.log("----변수타입----")
    console.log(typeof(str1))
    console.log(typeof(str2))
    console.log(typeof(str3))
    console.log(typeof(str4))

    console.log('----문자열 변수/객체 비교----')
    console.log(str1 == str2)
    console.log(str1 ===str2)
    console.log(str2 == str3)
    console.log(str2 === str3)
    console.log(str2==str3.valueOf())

    console.log("----문자열 객체 생성자와 비교----")
    console.log(new String('문자열')== str2)  //false
    console.log(new String('문자열')=== str1) 
    console.log(new String('문자열')== '문자열')
    console.log(new String('문자열') == str1)
    console.log(new String('문자열') == new String('문자열')) //false
    console.log(new String('문자열')=== new String('문자열')) //false
    console.log('문자열' ==  new String('문자열'))
    console.log('문자열' === new String('문자열')) 

    //문자열 공백 제거
    console.log('----문자열 공백 제거----')
    let str5 = '       how   are you      to    day  everyone.      '
    console.log(str5.trim())
    console.log(str5.replace(/\s/g, ''))
    console.log(str5.split(' ')) // ' '단위로 짤라내는것
    console.log(str5.split(' ').filter(el=>el!='').join(' '))
    console.log(str5.replace(/\s+/g, ' '))

    //slice()
    console.log('----slice----')
    let str6 = 'This is the only one story'
    console.log(str6.slice(8,11))
    //시작이 음수인 경우 빈 문자열 반환
    console.log(str6.slice(-8,11)) 

    //시작 인덱스가 끝 인덱스 보다 크거나 같은 경우 빈 문자열을 반환
    console.log(str6.slice(10,4))
    //파라메터가 1개만 있을 경우 시작 인덱스 값이 반환
    console.log(str6.slice(21))

    // 마이너스 값일 경우 (문자열 길이 + 마이너스 값)이 끝 인덱스 값 (25-10) => 15
    console.log(str6.slice(0,-10))
    //마지막 인덱스+1보다 큰 값은 마지막 인덱스+1로 대체
    console.log(str6.slice(8,100))

    //파라메터가 없을 경우 전체 문자열을 반환
    console.log(str6.slice())


    //substring() - 음수 입력시 0으로 대체됨
    console.log('----substring----')
    console.log(str6.substring(8,11))
    //시작 인덱스가 끝 인덱스 보다 큰 경우 파라메터 순서를 바꿈
    console.log(str6.substring(11.8))

    //파라메터 값이 음수이므로 0으로 먼저 변경 후, 순서를 바꿔 substring(0,11) 문자열 반환
    console.log(str6.substring(11.-8))

    //파라메터가 1개만 있을 경우 시작 인덱스 값이 됨
    //끝 인덱스는 마이너스 값을 사용할 수 있음. substring(0,0) 문자열을 반환
    console.log(str6.substring(0,-10)) 


    //substr() - 첫번째 파라메터가 시작인덱스, 두번째 파라메터가 가져올 문자열 길이
    console.log('----substr----')
    console.log(str6.substr(8,13))

    //시작 인덱스가 음수 이므로 문자열 끝에서 10만큼 왼쪽으로 이동한 위치부터 8개의 문자열을 반환
    console.log(str6.substr(-10,8))

     //끝 인덱스는 마이너스 값을 사용할 수 있음. substr(0,0) 문자열을 반환
    console.log(str6.substr(0,-10)) 

    //toString()
    console.log('----toString----')
    let bool = true;
    let arr = [1,2,'a','b',3]
    let obj = {key : 'data', value : 15}

    console.log(bool.toString())
    console.log(arr.toString())
    console.log(obj.toString())
    console.log(obj.key.toString())
    console.log(obj.value.toString())

    //문자열 찾기 indexOf(), lastIndexOf(), charAt(), includes()
    console.log('----indexOf, lastIndexOf----')
    let str7 = 'good morning, good afternoon, good evening, and good night'
    console.log(str7.indexOf('even'))
    console.log(str7.lastIndexOf('good'))
    console.log(str7.lastIndexOf('dawn'))
    //첫번쨰 good과 두번쨰 good을 건너뛰고 3번째 good의 시작 인덱스를 반환
    // 두번째 인자는 검색을 시작하는 위치를 지정
    console.log(str7.indexOf('good',15))

    //특정위치 문자 1개 얻기
    console.log('----charAt----')
    console.log(str7.charAt(30))

    //특정 문자열이 포함되었는지 알기 (true,false)
    console.log('----includes----')
    console.log(str7.includes('even'))

    //대소문자 구분 없이 문자열 위치 찾기 (toLoserCase,toUpperCase)
    
    //정규표현식과 일치하는 모든 문자열 찾기
    let str8 = 'GOOD MORNING, GOOD AFTERNOON, good evening , and good night'
    console.log

    //문자열 바꾸기와 대소문자 변환
    console.log(str8.replace('good','bad')) //문자열 하나 바꾸기
    console.log(str8.toLowerCase().replace('good','bad'))
    console.log(str8.replace(/good/i,'bad')) // /i는 대소문자 구분없이 1개만 변경
    console.log(str8.replace(/good/gi, 'bad')) //gi 문자열 전체에서 일치하는 문자열 변경

    //태그드 템플릿
    console.log('----Tagged Template----')
    let str9 = "good";
    let result = taggedFunc`${str9} morning, ${str9} afternoon, ${str9} evening, ${str9} night`
    console.log(result);

    //exp는 표현식 변수
    function taggedFunc(strings, exp) {
      let ret = ''
      for(let idx=1; idx<strings.length; idx++){
        if(idx <strings.length-1){
          ret += 'bad' + strings[idx]
        } else {
          ret += 'moon'+ strings[idx]
        }
      }
      return ret;
    }

    // 템플릿 리터럴
    let friends = [{name: '라이언', age : 5}, {name : '어피치', age :3}, {name: '콘', age :4},{name : '프로도', age :2}];
    let Template = `<ul>
      <li>이름:${friends[0].name} , 나이:${friends[0].age} </li>
      <li>이름:${friends[1].name} , 나이:${friends[1].age} </li>
      </ul>
      `

      document.write(Template)

</script>
</body>
</html>
